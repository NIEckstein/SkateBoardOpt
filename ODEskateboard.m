function [dStatedt] = ODEskateboard(t,State,Param)

%unpack state
x=State(1);
y=State(2);
thetD=State(3);
thetB=State(4);
thet1=State(5);
thet2=State(6);
thet3=State(7);
V=state(8);
thetBdot=State(9);
thet1dot=State(10);
thet2dot=State(11);
thet3dot=State(12);
%unpack param 
m_t=Param.m_t;
m_k=Param.m_k;
alph=Param.alph;
C=Param.C;
g=Param.g;
K=Param.K;
B=Param.B;
L1=Param.L1;
L2=Param.L2;
L3=Param.L3;
L3cross=Param.L3cross;
Ib=Param.Ib;

% apply constraints, which give first order difeqs
thetDdot=C*thetB*V;
xdot=V*sin(thetD);
ydot=-V*cos(thetD);

% get current joint torques
tau1=Param.tau1(t);
tau2=Param.tau2(t);
tau3=Param.tau3(t);

% apply second order ODEs from euler lagrange
 
Vdot= (g*m_k*sin(alph)*cos(thetD) - B*V + g*m_t*sin(alph)*cos(thetD))/(m_k + m_t);
thetBdotdot= -(tau1 + K*thetB)/Ib;
thet1dotdot= -(8*Ib*L1*L3^2*tau2*cos(thet2 - 2*thet3) - 16*Ib*L2*L3^2*tau2 - 8*Ib*L2*L3cross^2*tau1 - 8*Ib*L2*L3cross^2*tau2 - 16*Ib*L2*L3^2*tau1 + 8*Ib*L1*L3^2*tau3*cos(thet2 - 2*thet3) + 8*Ib*L2*L3^2*tau1*cos(2*thet3) + 8*Ib*L2*L3^2*tau2*cos(2*thet3) - 16*L1^2*L2*L3^2*m_k*tau1 - 4*L1^2*L2*L3^2*m_t*tau1 - 8*L1^2*L2*L3cross^2*m_k*tau1 - 4*L1^2*L2*L3cross^2*m_t*tau1 - 16*Ib*L1*L3^2*tau2*cos(thet2) - 16*Ib*L1*L3^2*tau3*cos(thet2) - 8*Ib*L1*L3cross^2*tau2*cos(thet2) - 8*Ib*L1*L3cross^2*tau3*cos(thet2) + 16*Ib*L1*L2*L3*tau3*cos(thet2 - thet3) + 8*L1^2*L2*L3^2*m_k*tau1*cos(2*thet3) + 4*L1^2*L2*L3^2*m_t*tau1*cos(2*thet2) + 4*L1^2*L2*L3cross^2*m_t*tau1*cos(2*thet2) - 16*K*L1^2*L2*L3^2*m_k*thetB - 4*K*L1^2*L2*L3^2*m_t*thetB - 8*K*L1^2*L2*L3cross^2*m_k*thetB - 4*K*L1^2*L2*L3cross^2*m_t*thetB - 16*Ib*L1*L2*L3*tau3*cos(thet2 + thet3) - 4*Ib*L1*L2*L3^2*g*m_k*cos(alph - thet1 - thetB + thetD) - Ib*L1*L2*L3^2*g*m_t*cos(alph - thet1 - thetB + thetD) - 2*Ib*L1*L2*L3cross^2*g*m_k*cos(alph - thet1 - thetB + thetD) - Ib*L1*L2*L3cross^2*g*m_t*cos(alph - thet1 - thetB + thetD) + 2*Ib*L1*L2*L3^2*g*m_k*sin(thet1 - alph + 2*thet3 + thetB) + Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 - 2*thet3 + thetB + thetD) + Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 + 2*thet3 + thetB + thetD) + Ib*L1*L2*L3^2*g*m_t*cos(alph + thet1 - 2*thet2 + thetB + thetD) + Ib*L1*L2*L3cross^2*g*m_t*cos(alph + thet1 - 2*thet2 + thetB + thetD) - 8*Ib*L1*L2*L3^2*g*m_k*sin(thet1 - alph + thetB) - 2*Ib*L1*L2*L3^2*g*m_t*sin(thet1 - alph + thetB) - 4*Ib*L1*L2*L3cross^2*g*m_k*sin(thet1 - alph + thetB) - 2*Ib*L1*L2*L3cross^2*g*m_t*sin(thet1 - alph + thetB) - 4*Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 + thetB + thetD) - Ib*L1*L2*L3^2*g*m_t*cos(alph + thet1 + thetB + thetD) - 2*Ib*L1*L2*L3cross^2*g*m_k*cos(alph + thet1 + thetB + thetD) - Ib*L1*L2*L3cross^2*g*m_t*cos(alph + thet1 + thetB + thetD) + 2*Ib*L1*L2*L3^3*m_t*thet1dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3^3*m_t*thet2dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3^3*m_t*thet3dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3^3*m_t*thetBdot^2*sin(thet2 - thet3) - (Ib*L1*L2*L3^3*m_t*thetDdot^2*sin(2*thet1 - thet2 + 3*thet3 + 2*thetB))/2 + (Ib*L1*L2*L3^3*m_t*thetDdot^2*sin(2*thet1 - 3*thet2 + 3*thet3 + 2*thetB))/2 + 8*K*L1^2*L2*L3^2*m_k*thetB*cos(2*thet3) + 4*K*L1^2*L2*L3^2*m_t*thetB*cos(2*thet2) + 4*K*L1^2*L2*L3cross^2*m_t*thetB*cos(2*thet2) - 2*Ib*L1*L2*L3^2*g*m_k*sin(alph - thet1 + 2*thet3 - thetB) - 2*Ib*L1*L2*L3^2*g*m_t*sin(alph - thet1 + 2*thet2 - thetB) - 2*Ib*L1*L2*L3cross^2*g*m_t*sin(alph - thet1 + 2*thet2 - thetB) + 8*Ib*L1*L2^2*L3^2*m_t*thet1dot^2*sin(thet2) + 8*Ib*L1*L2^2*L3^2*m_t*thet2dot^2*sin(thet2) + 8*Ib*L1*L2^2*L3^2*m_t*thetBdot^2*sin(thet2) + 8*Ib*L1*L2^2*L3cross^2*m_t*thet1dot^2*sin(thet2) + 8*Ib*L1*L2^2*L3cross^2*m_t*thet2dot^2*sin(thet2) + 8*Ib*L1*L2^2*L3cross^2*m_t*thetBdot^2*sin(thet2) - Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 - 2*thet3 + thetB - thetD) - Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 + 2*thet3 + thetB - thetD) - Ib*L1*L2*L3^2*g*m_k*cos(thet1 - alph - 2*thet3 + thetB + thetD) - Ib*L1*L2*L3^2*g*m_k*cos(thet1 - alph + 2*thet3 + thetB + thetD) - Ib*L1*L2*L3^2*g*m_t*cos(alph + thet1 - 2*thet2 + thetB - thetD) - Ib*L1*L2*L3^2*g*m_t*cos(thet1 - alph - 2*thet2 + thetB + thetD) - Ib*L1*L2*L3cross^2*g*m_t*cos(alph + thet1 - 2*thet2 + thetB - thetD) - Ib*L1*L2*L3cross^2*g*m_t*cos(thet1 - alph - 2*thet2 + thetB + thetD) + 4*Ib*L1*L2*L3^2*g*m_k*cos(alph + thet1 + thetB - thetD) + 4*Ib*L1*L2*L3^2*g*m_k*cos(thet1 - alph + thetB + thetD) + Ib*L1*L2*L3^2*g*m_t*cos(alph + thet1 + thetB - thetD) + Ib*L1*L2*L3^2*g*m_t*cos(thet1 - alph + thetB + thetD) + 2*Ib*L1*L2*L3cross^2*g*m_k*cos(alph + thet1 + thetB - thetD) + 2*Ib*L1*L2*L3cross^2*g*m_k*cos(thet1 - alph + thetB + thetD) + Ib*L1*L2*L3cross^2*g*m_t*cos(alph + thet1 + thetB - thetD) + Ib*L1*L2*L3cross^2*g*m_t*cos(thet1 - alph + thetB + thetD) + 2*Ib*L1*L2*L3^2*g*m_k*sin(alph + thet1 - 2*thet3 + thetB) + 2*Ib*L1*L2*L3^2*g*m_k*sin(alph + thet1 + 2*thet3 + thetB) + 2*Ib*L1*L2*L3^2*g*m_t*sin(alph + thet1 - 2*thet2 + thetB) + 2*Ib*L1*L2*L3cross^2*g*m_t*sin(alph + thet1 - 2*thet2 + thetB) + 4*Ib*L1^2*L2*L3^2*m_t*thet1dot^2*sin(2*thet2) + 4*Ib*L1^2*L2*L3^2*m_t*thetBdot^2*sin(2*thet2) + 4*Ib*L1^2*L2*L3cross^2*m_t*thet1dot^2*sin(2*thet2) + 4*Ib*L1^2*L2*L3cross^2*m_t*thetBdot^2*sin(2*thet2) + Ib*L1*L2*L3^2*g*m_k*cos(alph - thet1 + 2*thet3 - thetB + thetD) + Ib*L1*L2*L3^2*g*m_k*cos(thet1 - alph + 2*thet3 + thetB - thetD) + Ib*L1*L2*L3^2*g*m_t*cos(alph - thet1 + 2*thet2 - thetB + thetD) + Ib*L1*L2*L3cross^2*g*m_t*cos(alph - thet1 + 2*thet2 - thetB + thetD) - 8*Ib*L1*L2*L3^2*g*m_k*sin(alph + thet1 + thetB) - 2*Ib*L1*L2*L3^2*g*m_t*sin(alph + thet1 + thetB) - 4*Ib*L1*L2*L3cross^2*g*m_k*sin(alph + thet1 + thetB) - 2*Ib*L1*L2*L3cross^2*g*m_t*sin(alph + thet1 + thetB) + 2*Ib*L1*L2*L3^3*m_t*thet1dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3^3*m_t*thet2dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3^3*m_t*thet3dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3^3*m_t*thetBdot^2*sin(thet2 + thet3) + (Ib*L1*L2*L3^3*m_t*thetDdot^2*sin(2*thet1 - thet2 + thet3 + 2*thetB))/2 - (Ib*L1*L2*L3^3*m_t*thetDdot^2*sin(2*thet1 - 3*thet2 + thet3 + 2*thetB))/2 + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet3dot^2*sin(thet2 + thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thetBdot^2*sin(thet2 + thet3) - (Ib*L1*L2*L3*L3cross^2*m_t*thetDdot^2*sin(2*thet1 - thet2 + thet3 + 2*thetB))/2 + (Ib*L1*L2*L3*L3cross^2*m_t*thetDdot^2*sin(2*thet1 - 3*thet2 + thet3 + 2*thetB))/2 - 4*Ib*L1*L2*L3^3*m_t*thet1dot*thet2dot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3^3*m_t*thet1dot*thet3dot*sin(thet2 - thet3) - 4*Ib*L1*L2*L3^3*m_t*thet2dot*thet3dot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3^3*m_t*thet1dot*thetBdot*sin(thet2 - thet3) - 4*Ib*L1*L2*L3^3*m_t*thet2dot*thetBdot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3^3*m_t*thet3dot*thetBdot*sin(thet2 - thet3) - 16*Ib*L1*L2^2*L3^2*m_t*thet1dot*thet2dot*sin(thet2) + 16*Ib*L1*L2^2*L3^2*m_t*thet1dot*thetBdot*sin(thet2) - 16*Ib*L1*L2^2*L3^2*m_t*thet2dot*thetBdot*sin(thet2) - 16*Ib*L1*L2^2*L3cross^2*m_t*thet1dot*thet2dot*sin(thet2) + 16*Ib*L1*L2^2*L3cross^2*m_t*thet1dot*thetBdot*sin(thet2) - 16*Ib*L1*L2^2*L3cross^2*m_t*thet2dot*thetBdot*sin(thet2) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thet3dot^2*sin(thet2 - thet3) + 2*Ib*L1*L2*L3*L3cross^2*m_t*thetBdot^2*sin(thet2 - thet3) + (Ib*L1*L2*L3*L3cross^2*m_t*thetDdot^2*sin(2*thet1 - thet2 + 3*thet3 + 2*thetB))/2 - (Ib*L1*L2*L3*L3cross^2*m_t*thetDdot^2*sin(2*thet1 - 3*thet2 + 3*thet3 + 2*thetB))/2 + 8*Ib*L1^2*L2*L3^2*m_t*thet1dot*thetBdot*sin(2*thet2) + 8*Ib*L1^2*L2*L3cross^2*m_t*thet1dot*thetBdot*sin(2*thet2) - 4*Ib*L1*L2*L3^3*m_t*thet1dot*thet2dot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3^3*m_t*thet1dot*thet3dot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3^3*m_t*thet2dot*thet3dot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3^3*m_t*thet1dot*thetBdot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3^3*m_t*thet2dot*thetBdot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3^3*m_t*thet3dot*thetBdot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thet2dot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thet3dot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot*thet3dot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thetBdot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot*thetBdot*sin(thet2 + thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet3dot*thetBdot*sin(thet2 + thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thet2dot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thet3dot*sin(thet2 - thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot*thet3dot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet1dot*thetBdot*sin(thet2 - thet3) - 4*Ib*L1*L2*L3*L3cross^2*m_t*thet2dot*thetBdot*sin(thet2 - thet3) + 4*Ib*L1*L2*L3*L3cross^2*m_t*thet3dot*thetBdot*sin(thet2 - thet3))/(4*Ib*L1^2*L2*(4*L3^2*m_k + L3^2*m_t + 2*L3cross^2*m_k + L3cross^2*m_t - 2*L3^2*m_k*cos(2*thet3) - L3^2*m_t*cos(2*thet2) - L3cross^2*m_t*cos(2*thet2)));
thet2dotdot= -(8*L1^2*L3^2*m_t*tau2*cos(2*thet2 - 2*thet3) - 24*L1^2*L3^2*m_k*tau3 - 16*L1^2*L3^2*m_t*tau2 - 16*L2^2*L3^2*m_t*tau1 - 16*L1^2*L3^2*m_t*tau3 - 16*L2^2*L3^2*m_t*tau2 - 8*L1^2*L3cross^2*m_k*tau2 - 8*L1^2*L3cross^2*m_k*tau3 - 8*L1^2*L3cross^2*m_t*tau2 - 8*L2^2*L3cross^2*m_t*tau1 - 8*L1^2*L3cross^2*m_t*tau3 - 8*L2^2*L3cross^2*m_t*tau2 - 24*L1^2*L3^2*m_k*tau2 + 8*L1^2*L3^2*m_t*tau3*cos(2*thet2 - 2*thet3) + 8*L2^2*L3^2*m_t*tau1*cos(2*thet3) + 8*L2^2*L3^2*m_t*tau2*cos(2*thet3) + L1*L2^2*L3^2*g*m_t^2*cos(alph + thet1 + thetB - thetD) + L1*L2^2*L3^2*g*m_t^2*cos(thet1 - alph + thetB + thetD) + L1*L2^2*L3cross^2*g*m_t^2*cos(alph + thet1 + thetB - thetD) + L1*L2^2*L3cross^2*g*m_t^2*cos(thet1 - alph + thetB + thetD) + 2*L1^2*L2*L3^3*m_t^2*thet1dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3^3*m_t^2*thet2dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3^3*m_t^2*thet3dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3^3*m_t^2*thetBdot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3^2*g*m_t^2*sin(alph + thet1 - thet2 + thetB) - 2*L1^2*L2*L3^2*g*m_t^2*sin(thet1 - alph + thet2 + thetB) + 2*L1*L2^2*L3^2*g*m_t^2*sin(alph + thet1 - 2*thet2 + thetB) + 2*L1^2*L2*L3cross^2*g*m_t^2*sin(alph + thet1 - thet2 + thetB) - 2*L1^2*L2*L3cross^2*g*m_t^2*sin(thet1 - alph + thet2 + thetB) + 2*L1*L2^2*L3cross^2*g*m_t^2*sin(alph + thet1 - 2*thet2 + thetB) - L1^2*L2*L3^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB + thetD) - L1^2*L2*L3cross^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB + thetD) - 16*L1*L2^2*L3*m_t*tau3*cos(thet2 + thet3) + 8*L1^2*L2^2*L3^2*m_t^2*thet1dot^2*sin(2*thet2) + 4*L1^2*L2^2*L3^2*m_t^2*thet2dot^2*sin(2*thet2) + 8*L1^2*L2^2*L3^2*m_t^2*thetBdot^2*sin(2*thet2) + 8*L1^2*L2^2*L3cross^2*m_t^2*thet1dot^2*sin(2*thet2) + 4*L1^2*L2^2*L3cross^2*m_t^2*thet2dot^2*sin(2*thet2) + 8*L1^2*L2^2*L3cross^2*m_t^2*thetBdot^2*sin(2*thet2) + L1*L2^2*L3^2*g*m_t^2*cos(alph - thet1 + 2*thet2 - thetB + thetD) + L1*L2^2*L3cross^2*g*m_t^2*cos(alph - thet1 + 2*thet2 - thetB + thetD) - 2*L1*L2^2*L3^2*g*m_t^2*sin(alph + thet1 + thetB) - 2*L1*L2^2*L3cross^2*g*m_t^2*sin(alph + thet1 + thetB) - 32*L1^2*L2*L3*m_k*tau3*cos(thet3) - 16*L1*L2*L3^2*m_t*tau1*cos(thet2) - 32*L1*L2*L3^2*m_t*tau2*cos(thet2) - 16*L1*L2*L3^2*m_t*tau3*cos(thet2) - 16*L1^2*L2*L3*m_t*tau3*cos(thet3) - 8*L1*L2*L3cross^2*m_t*tau1*cos(thet2) - 16*L1*L2*L3cross^2*m_t*tau2*cos(thet2) - 8*L1*L2*L3cross^2*m_t*tau3*cos(thet2) + 2*L1*L2^2*L3^3*m_t^2*thet1dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3^3*m_t^2*thet2dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3^3*m_t^2*thet3dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3^3*m_t^2*thetBdot^2*sin(thet2 + thet3) + (L1*L2^2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - thet2 + thet3 + 2*thetB))/2 - (L1^2*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB))/2 - (L1*L2^2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 3*thet2 + thet3 + 2*thetB))/2 - L1*L2^2*L3^2*g*m_t^2*cos(alph - thet1 - thetB + thetD) - L1*L2^2*L3cross^2*g*m_t^2*cos(alph - thet1 - thetB + thetD) - 2*L1^2*L2*L3^2*g*m_t^2*sin(alph - thet1 + thet2 - thetB) - 2*L1^2*L2*L3cross^2*g*m_t^2*sin(alph - thet1 + thet2 - thetB) + 8*L1*L2^3*L3^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1^3*L2*L3^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1*L2^3*L3^2*m_t^2*thet2dot^2*sin(thet2) + 2*L1^2*L2*L3^3*m_t^2*thet1dot^2*sin(thet3) + 2*L1^2*L2*L3^3*m_t^2*thet2dot^2*sin(thet3) + 2*L1^2*L2*L3^3*m_t^2*thet3dot^2*sin(thet3) + 8*L1*L2^3*L3^2*m_t^2*thetBdot^2*sin(thet2) + 8*L1^3*L2*L3^2*m_t^2*thetBdot^2*sin(thet2) + 2*L1^2*L2*L3^3*m_t^2*thetBdot^2*sin(thet3) + 8*L1*L2^3*L3cross^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1^3*L2*L3cross^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1*L2^3*L3cross^2*m_t^2*thet2dot^2*sin(thet2) + 8*L1*L2^3*L3cross^2*m_t^2*thetBdot^2*sin(thet2) + 8*L1^3*L2*L3cross^2*m_t^2*thetBdot^2*sin(thet2) + L1^2*L2*L3^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB - thetD) + L1^2*L2*L3^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB + thetD) + L1^2*L2*L3^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB + thetD) + L1*L2^2*L3^2*g*m_t^2*cos(alph + thet1 - 2*thet2 + thetB + thetD) + L1^2*L2*L3cross^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB - thetD) + L1^2*L2*L3cross^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB + thetD) + L1^2*L2*L3cross^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB + thetD) + L1*L2^2*L3cross^2*g*m_t^2*cos(alph + thet1 - 2*thet2 + thetB + thetD) + 8*L1*L2*L3^2*m_t*tau1*cos(thet2 - 2*thet3) + 16*L1*L2*L3^2*m_t*tau2*cos(thet2 - 2*thet3) + 16*L1*L2^2*L3*m_t*tau3*cos(thet2 - thet3) + 8*L1*L2*L3^2*m_t*tau3*cos(thet2 - 2*thet3) + (L1^2*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 + thet3 + 2*thetB))/2 - 2*L1*L2^2*L3^2*g*m_t^2*sin(thet1 - alph + thetB) - 2*L1*L2^2*L3cross^2*g*m_t^2*sin(thet1 - alph + thetB) - L1*L2^2*L3^2*g*m_t^2*cos(alph + thet1 + thetB + thetD) - L1*L2^2*L3cross^2*g*m_t^2*cos(alph + thet1 + thetB + thetD) + 2*L1*L2^2*L3^3*m_t^2*thet1dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3^3*m_t^2*thet2dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3^3*m_t^2*thet3dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3^3*m_t^2*thetBdot^2*sin(thet2 - thet3) - (L1*L2^2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - thet2 + 3*thet3 + 2*thetB))/2 - (L1^2*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB))/2 + (L1*L2^2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 3*thet2 + 3*thet3 + 2*thetB))/2 + (L1^2*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 3*thet3 + 2*thetB))/2 - 2*L1^2*L2*L3^2*g*m_t^2*sin(alph + thet1 + thet2 + thetB) - 2*L1^2*L2*L3cross^2*g*m_t^2*sin(alph + thet1 + thet2 + thetB) - 2*L1*L2^2*L3^2*g*m_t^2*sin(alph - thet1 + 2*thet2 - thetB) - 2*L1*L2^2*L3cross^2*g*m_t^2*sin(alph - thet1 + 2*thet2 - thetB) - L1^2*L2*L3^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB - thetD) + L1^2*L2*L3^2*g*m_t^2*cos(alph - thet1 + thet2 - thetB + thetD) - L1^2*L2*L3^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB - thetD) - L1^2*L2*L3^2*g*m_t^2*cos(thet1 - alph - thet2 + thetB + thetD) - L1*L2^2*L3^2*g*m_t^2*cos(alph + thet1 - 2*thet2 + thetB - thetD) - L1*L2^2*L3^2*g*m_t^2*cos(thet1 - alph - 2*thet2 + thetB + thetD) - L1^2*L2*L3cross^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB - thetD) + L1^2*L2*L3cross^2*g*m_t^2*cos(alph - thet1 + thet2 - thetB + thetD) - L1^2*L2*L3cross^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB - thetD) - L1^2*L2*L3cross^2*g*m_t^2*cos(thet1 - alph - thet2 + thetB + thetD) - L1*L2^2*L3cross^2*g*m_t^2*cos(alph + thet1 - 2*thet2 + thetB - thetD) - L1*L2^2*L3cross^2*g*m_t^2*cos(thet1 - alph - 2*thet2 + thetB + thetD) + 16*L1^2*L2*L3*m_t*tau3*cos(2*thet2 - thet3) - 2*L1^2*L2*L3^2*g*m_k*m_t*sin(alph + thet1 - thet2 + 2*thet3 + thetB) + 2*L1^2*L2*L3^2*g*m_k*m_t*sin(thet1 - alph + thet2 - 2*thet3 + thetB) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet3dot^2*sin(thet2 - thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thetBdot^2*sin(thet2 - thet3) + L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 - 2*thet3 + thetB + thetD) + (L1*L2^2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - thet2 + 3*thet3 + 2*thetB))/2 + (L1^2*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB))/2 - (L1*L2^2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 3*thet2 + 3*thet3 + 2*thetB))/2 - (L1^2*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 3*thet3 + 2*thetB))/2 + 4*L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 + thetB - thetD) + 4*L1*L2^2*L3^2*g*m_k*m_t*cos(thet1 - alph + thetB + thetD) + 2*L1*L2^2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thetB - thetD) + 2*L1*L2^2*L3cross^2*g*m_k*m_t*cos(thet1 - alph + thetB + thetD) + L1^2*L2*L3^2*g*m_k*m_t*cos(alph - thet1 - thet2 + 2*thet3 - thetB + thetD) - 4*L1^2*L2*L3^3*m_t^2*thet1dot*thet2dot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3^3*m_t^2*thet1dot*thet3dot*sin(2*thet2 - thet3) - 4*L1^2*L2*L3^3*m_t^2*thet2dot*thet3dot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3^3*m_t^2*thet1dot*thetBdot*sin(2*thet2 - thet3) - 4*L1^2*L2*L3^3*m_t^2*thet2dot*thetBdot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3^3*m_t^2*thet3dot*thetBdot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3^2*g*m_k*m_t*sin(alph + thet1 - thet2 + thetB) - 4*L1^2*L2*L3^2*g*m_k*m_t*sin(thet1 - alph + thet2 + thetB) + 2*L1*L2^2*L3^2*g*m_k*m_t*sin(alph + thet1 - 2*thet3 + thetB) + 2*L1*L2^2*L3^2*g*m_k*m_t*sin(alph + thet1 + 2*thet3 + thetB) + 2*L1^2*L2*L3cross^2*g*m_k*m_t*sin(alph + thet1 - thet2 + thetB) - 2*L1^2*L2*L3cross^2*g*m_k*m_t*sin(thet1 - alph + thet2 + thetB) - 2*L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB + thetD) - L1^2*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB + thetD) + 8*L1^2*L2^2*L3^2*m_k*m_t*thet1dot^2*sin(2*thet3) + 8*L1^2*L2^2*L3^2*m_k*m_t*thet2dot^2*sin(2*thet3) + 8*L1^2*L2^2*L3^2*m_k*m_t*thetBdot^2*sin(2*thet3) + L1*L2^2*L3^2*g*m_k*m_t*cos(alph - thet1 + 2*thet3 - thetB + thetD) + L1*L2^2*L3^2*g*m_k*m_t*cos(thet1 - alph + 2*thet3 + thetB - thetD) - 8*L1^2*L2^2*L3^2*m_t^2*thet1dot*thet2dot*sin(2*thet2) + 16*L1^2*L2^2*L3^2*m_t^2*thet1dot*thetBdot*sin(2*thet2) - 8*L1^2*L2^2*L3^2*m_t^2*thet2dot*thetBdot*sin(2*thet2) - 8*L1^2*L2^2*L3cross^2*m_t^2*thet1dot*thet2dot*sin(2*thet2) + 16*L1^2*L2^2*L3cross^2*m_t^2*thet1dot*thetBdot*sin(2*thet2) - 8*L1^2*L2^2*L3cross^2*m_t^2*thet2dot*thetBdot*sin(2*thet2) - 8*L1*L2^2*L3^2*g*m_k*m_t*sin(alph + thet1 + thetB) - 4*L1*L2^2*L3cross^2*g*m_k*m_t*sin(alph + thet1 + thetB) - 2*L1^2*L2*L3^2*g*m_k*m_t*sin(thet1 - alph - thet2 + 2*thet3 + thetB) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet3dot^2*sin(2*thet2 - thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thetBdot^2*sin(2*thet2 - thet3) - L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 - 2*thet3 + thetB - thetD) - L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + 2*thet3 + thetB + thetD) - L1^2*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 - 2*thet3 + thetB + thetD) - 4*L1*L2^2*L3^3*m_t^2*thet1dot*thet2dot*sin(thet2 + thet3) + 4*L1*L2^2*L3^3*m_t^2*thet1dot*thet3dot*sin(thet2 + thet3) - 4*L1*L2^2*L3^3*m_t^2*thet2dot*thet3dot*sin(thet2 + thet3) + 4*L1*L2^2*L3^3*m_t^2*thet1dot*thetBdot*sin(thet2 + thet3) - 4*L1*L2^2*L3^3*m_t^2*thet2dot*thetBdot*sin(thet2 + thet3) + 4*L1*L2^2*L3^3*m_t^2*thet3dot*thetBdot*sin(thet2 + thet3) - L1^2*L2*L3^3*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB) - 4*L1*L2^2*L3^2*g*m_k*m_t*cos(alph - thet1 - thetB + thetD) - 2*L1*L2^2*L3cross^2*g*m_k*m_t*cos(alph - thet1 - thetB + thetD) - 4*L1^2*L2*L3^2*g*m_k*m_t*sin(alph - thet1 + thet2 - thetB) + 2*L1*L2^2*L3^2*g*m_k*m_t*sin(thet1 - alph + 2*thet3 + thetB) - 2*L1^2*L2*L3cross^2*g*m_k*m_t*sin(alph - thet1 + thet2 - thetB) + 16*L1^3*L2*L3^2*m_k*m_t*thet1dot^2*sin(thet2) + 12*L1^2*L2*L3^3*m_k*m_t*thet1dot^2*sin(thet3) + 12*L1^2*L2*L3^3*m_k*m_t*thet2dot^2*sin(thet3) + 12*L1^2*L2*L3^3*m_k*m_t*thet3dot^2*sin(thet3) + 16*L1^3*L2*L3^2*m_k*m_t*thetBdot^2*sin(thet2) + 12*L1^2*L2*L3^3*m_k*m_t*thetBdot^2*sin(thet3) + 8*L1^3*L2*L3cross^2*m_k*m_t*thet1dot^2*sin(thet2) + 8*L1^3*L2*L3cross^2*m_k*m_t*thetBdot^2*sin(thet2) + 2*L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB - thetD) + 2*L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB + thetD) + 2*L1^2*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB + thetD) + L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 - 2*thet3 + thetB + thetD) + L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 + 2*thet3 + thetB + thetD) + L1^2*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB - thetD) + L1^2*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB + thetD) + L1^2*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB + thetD) - 16*L1*L2^3*L3^2*m_t^2*thet1dot*thet2dot*sin(thet2) - 4*L1^2*L2*L3^3*m_t^2*thet1dot*thet2dot*sin(thet3) + 4*L1^2*L2*L3^3*m_t^2*thet1dot*thet3dot*sin(thet3) - 4*L1^2*L2*L3^3*m_t^2*thet2dot*thet3dot*sin(thet3) + 16*L1*L2^3*L3^2*m_t^2*thet1dot*thetBdot*sin(thet2) + 16*L1^3*L2*L3^2*m_t^2*thet1dot*thetBdot*sin(thet2) - 16*L1*L2^3*L3^2*m_t^2*thet2dot*thetBdot*sin(thet2) + 4*L1^2*L2*L3^3*m_t^2*thet1dot*thetBdot*sin(thet3) - 4*L1^2*L2*L3^3*m_t^2*thet2dot*thetBdot*sin(thet3) + 4*L1^2*L2*L3^3*m_t^2*thet3dot*thetBdot*sin(thet3) - 16*L1*L2^3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(thet2) + 16*L1*L2^3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet2) + 16*L1^3*L2*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet2) - 16*L1*L2^3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(thet2) + 2*L1^2*L2*L3^2*g*m_k*m_t*sin(alph + thet1 + thet2 - 2*thet3 + thetB) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thet3dot^2*sin(thet2 + thet3) + 2*L1*L2^2*L3*L3cross^2*m_t^2*thetBdot^2*sin(thet2 + thet3) - (L1*L2^2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - thet2 + thet3 + 2*thetB))/2 + (L1^2*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB))/2 + (L1*L2^2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 3*thet2 + thet3 + 2*thetB))/2 - 8*L1*L2^2*L3^2*g*m_k*m_t*sin(thet1 - alph + thetB) - 4*L1*L2^2*L3cross^2*g*m_k*m_t*sin(thet1 - alph + thetB) - 4*L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 + thetB + thetD) - 2*L1*L2^2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thetB + thetD) - 8*L1^3*L2*L3^2*m_k*m_t*thet1dot^2*sin(thet2 - 2*thet3) - 8*L1^3*L2*L3^2*m_k*m_t*thetBdot^2*sin(thet2 - 2*thet3) + L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + 2*thet3 + thetB - thetD) - L1^2*L2*L3^2*g*m_k*m_t*cos(alph - thet1 + thet2 - 2*thet3 - thetB + thetD) + L1^2*L2*L3^2*g*m_k*m_t*cos(thet1 - alph - thet2 + 2*thet3 + thetB + thetD) - 4*L1*L2^2*L3^3*m_t^2*thet1dot*thet2dot*sin(thet2 - thet3) + 4*L1*L2^2*L3^3*m_t^2*thet1dot*thet3dot*sin(thet2 - thet3) - 4*L1*L2^2*L3^3*m_t^2*thet2dot*thet3dot*sin(thet2 - thet3) + 4*L1*L2^2*L3^3*m_t^2*thet1dot*thetBdot*sin(thet2 - thet3) - 4*L1*L2^2*L3^3*m_t^2*thet2dot*thetBdot*sin(thet2 - thet3) + 4*L1*L2^2*L3^3*m_t^2*thet3dot*thetBdot*sin(thet2 - thet3) - L1^2*L2*L3^3*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB) - 4*L1^2*L2*L3^2*g*m_k*m_t*sin(alph + thet1 + thet2 + thetB) - 2*L1^2*L2*L3cross^2*g*m_k*m_t*sin(alph + thet1 + thet2 + thetB) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot^2*sin(thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot^2*sin(thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thet3dot^2*sin(thet3) + 2*L1^2*L2*L3*L3cross^2*m_t^2*thetBdot^2*sin(thet3) - (L1^2*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 + thet3 + 2*thetB))/2 - 2*L1*L2^2*L3^2*g*m_k*m_t*sin(alph - thet1 + 2*thet3 - thetB) - 2*L1^2*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB - thetD) + 2*L1^2*L2*L3^2*g*m_k*m_t*cos(alph - thet1 + thet2 - thetB + thetD) - 2*L1^2*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB - thetD) - 2*L1^2*L2*L3^2*g*m_k*m_t*cos(thet1 - alph - thet2 + thetB + thetD) - L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 - 2*thet3 + thetB - thetD) - L1*L2^2*L3^2*g*m_k*m_t*cos(alph + thet1 + 2*thet3 + thetB - thetD) - L1*L2^2*L3^2*g*m_k*m_t*cos(thet1 - alph - 2*thet3 + thetB + thetD) - L1*L2^2*L3^2*g*m_k*m_t*cos(thet1 - alph + 2*thet3 + thetB + thetD) - L1^2*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB - thetD) + L1^2*L2*L3cross^2*g*m_k*m_t*cos(alph - thet1 + thet2 - thetB + thetD) - L1^2*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB - thetD) - L1^2*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph - thet2 + thetB + thetD) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(thet2 - thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(thet2 - thet3) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(thet2 - thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet2 - thet3) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(thet2 - thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(thet2 - thet3) + L1^2*L2*L3*L3cross^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB) - 16*L1^2*L2^2*L3^2*m_k*m_t*thet1dot*thet2dot*sin(2*thet3) + 16*L1^2*L2^2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(2*thet3) - 16*L1^2*L2^2*L3^2*m_k*m_t*thet2dot*thetBdot*sin(2*thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(2*thet2 - thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(2*thet2 - thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(2*thet2 - thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(2*thet2 - thet3) - 24*L1^2*L2*L3^3*m_k*m_t*thet1dot*thet2dot*sin(thet3) + 24*L1^2*L2*L3^3*m_k*m_t*thet1dot*thet3dot*sin(thet3) - 24*L1^2*L2*L3^3*m_k*m_t*thet2dot*thet3dot*sin(thet3) + 32*L1^3*L2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(thet2) + 24*L1^2*L2*L3^3*m_k*m_t*thet1dot*thetBdot*sin(thet3) - 24*L1^2*L2*L3^3*m_k*m_t*thet2dot*thetBdot*sin(thet3) + 24*L1^2*L2*L3^3*m_k*m_t*thet3dot*thetBdot*sin(thet3) + 16*L1^3*L2*L3cross^2*m_k*m_t*thet1dot*thetBdot*sin(thet2) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(thet2 + thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(thet2 + thet3) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(thet2 + thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet2 + thet3) - 4*L1*L2^2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(thet2 + thet3) + 4*L1*L2^2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(thet2 + thet3) + L1^2*L2*L3*L3cross^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB) - 16*L1^3*L2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(thet2 - 2*thet3) + 4*L1^2*L2*L3*L3cross^2*m_k*m_t*thet1dot^2*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_k*m_t*thet2dot^2*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_k*m_t*thet3dot^2*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_k*m_t*thetBdot^2*sin(thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet3) - 4*L1^2*L2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(thet3) + 4*L1^2*L2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(thet3) - 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet1dot*thet2dot*sin(thet3) + 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet1dot*thet3dot*sin(thet3) - 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet2dot*thet3dot*sin(thet3) + 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet1dot*thetBdot*sin(thet3) - 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet2dot*thetBdot*sin(thet3) + 8*L1^2*L2*L3*L3cross^2*m_k*m_t*thet3dot*thetBdot*sin(thet3))/(4*L1^2*L2^2*m_t*(4*L3^2*m_k + L3^2*m_t + 2*L3cross^2*m_k + L3cross^2*m_t - 2*L3^2*m_k*cos(2*thet3) - L3^2*m_t*cos(2*thet2) - L3cross^2*m_t*cos(2*thet2)));
thet3dotdot= -(16*L2^2*L3*m_t*tau1*cos(thet2 - thet3) - 24*L1*L3^2*m_k*tau2 - 24*L1*L3^2*m_k*tau3 - 32*L1*L2^2*m_t*tau3 - 16*L1*L3^2*m_t*tau2 - 16*L1*L3^2*m_t*tau3 - 8*L1*L3cross^2*m_k*tau2 - 8*L1*L3cross^2*m_k*tau3 - 8*L1*L3cross^2*m_t*tau2 - 8*L1*L3cross^2*m_t*tau3 - 16*L2*L3^2*m_t*tau1*cos(thet2) - 16*L2*L3^2*m_t*tau2*cos(thet2) - 8*L2*L3cross^2*m_t*tau1*cos(thet2) - 8*L2*L3cross^2*m_t*tau2*cos(thet2) - 64*L1*L2^2*m_k*tau3 + 8*L2*L3^2*m_t*tau1*cos(thet2 - 2*thet3) + 16*L2^2*L3*m_t*tau2*cos(thet2 - thet3) + 8*L2*L3^2*m_t*tau2*cos(thet2 - 2*thet3) + 32*L1*L2^2*m_t*tau3*cos(2*thet2) + 8*L1*L3^2*m_t*tau2*cos(2*thet2 - 2*thet3) + 8*L1*L3^2*m_t*tau3*cos(2*thet2 - 2*thet3) - 16*L2^2*L3*m_t*tau1*cos(thet2 + thet3) - 16*L2^2*L3*m_t*tau2*cos(thet2 + thet3) - (L1*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB))/2 - 2*L1*L2*L3^2*g*m_t^2*sin(alph - thet1 + thet2 - thetB) - 2*L1*L2*L3cross^2*g*m_t^2*sin(alph - thet1 + thet2 - thetB) + 2*L1*L2*L3^3*m_t^2*thet1dot^2*sin(thet3) + 2*L1*L2*L3^3*m_t^2*thet2dot^2*sin(thet3) + 2*L1*L2*L3^3*m_t^2*thet3dot^2*sin(thet3) + 2*L1*L2*L3^3*m_t^2*thetBdot^2*sin(thet3) + L1*L2*L3^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB - thetD) + L1*L2*L3^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB + thetD) + L1*L2*L3^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB + thetD) + L1*L2*L3cross^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB - thetD) + L1*L2*L3cross^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB + thetD) + L1*L2*L3cross^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB + thetD) + (L1*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 + thet3 + 2*thetB))/2 - (L1*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB))/2 + (L1*L2*L3^3*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 3*thet3 + 2*thetB))/2 - 2*L1*L2*L3^2*g*m_t^2*sin(alph + thet1 + thet2 + thetB) - 2*L1*L2*L3cross^2*g*m_t^2*sin(alph + thet1 + thet2 + thetB) + 8*L1^2*L2*L3^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1^2*L2*L3^2*m_t^2*thetBdot^2*sin(thet2) + 8*L1^2*L2*L3cross^2*m_t^2*thet1dot^2*sin(thet2) + 8*L1^2*L2*L3cross^2*m_t^2*thetBdot^2*sin(thet2) - L1*L2*L3^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB - thetD) + L1*L2*L3^2*g*m_t^2*cos(alph - thet1 + thet2 - thetB + thetD) - L1*L2*L3^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB - thetD) - L1*L2*L3^2*g*m_t^2*cos(thet1 - alph - thet2 + thetB + thetD) - L1*L2*L3cross^2*g*m_t^2*cos(alph + thet1 - thet2 + thetB - thetD) + L1*L2*L3cross^2*g*m_t^2*cos(alph - thet1 + thet2 - thetB + thetD) - L1*L2*L3cross^2*g*m_t^2*cos(thet1 - alph + thet2 + thetB - thetD) - L1*L2*L3cross^2*g*m_t^2*cos(thet1 - alph - thet2 + thetB + thetD) + 16*L1*L2*L3*m_t*tau2*cos(2*thet2 - thet3) + 32*L1*L2*L3*m_t*tau3*cos(2*thet2 - thet3) + 2*L1*L2*L3^3*m_t^2*thet1dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3^3*m_t^2*thet2dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3^3*m_t^2*thet3dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3^3*m_t^2*thetBdot^2*sin(2*thet2 - thet3) - 2*L1*L2^2*L3^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 2*thet3 + 2*thetB) + L1*L2^2*L3^2*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 2*thet3 + 2*thetB) + 2*L1*L2^2*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 2*thet3 + 2*thetB) - L1*L2^2*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 2*thet3 + 2*thetB) + 2*L1*L2*L3^2*g*m_t^2*sin(alph + thet1 - thet2 + thetB) - 2*L1*L2*L3^2*g*m_t^2*sin(thet1 - alph + thet2 + thetB) + 2*L1*L2*L3cross^2*g*m_t^2*sin(alph + thet1 - thet2 + thetB) - 2*L1*L2*L3cross^2*g*m_t^2*sin(thet1 - alph + thet2 + thetB) - L1*L2*L3^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB + thetD) - L1*L2*L3cross^2*g*m_t^2*cos(alph + thet1 + thet2 + thetB + thetD) + 4*L1*L2^2*L3^2*m_t^2*thet1dot^2*sin(2*thet2) + 4*L1*L2^2*L3^2*m_t^2*thet2dot^2*sin(2*thet2) + 4*L1*L2^2*L3^2*m_t^2*thetBdot^2*sin(2*thet2) + 4*L1*L2^2*L3cross^2*m_t^2*thet1dot^2*sin(2*thet2) + 4*L1*L2^2*L3cross^2*m_t^2*thet2dot^2*sin(2*thet2) + 4*L1*L2^2*L3cross^2*m_t^2*thetBdot^2*sin(2*thet2) + L1*L2^2*L3^2*m_t^2*thetDdot^2*sin(2*thet1 + 2*thet3 + 2*thetB) - L1*L2^2*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 + 2*thet3 + 2*thetB) - 32*L1*L2*L3*m_k*tau2*cos(thet3) - 64*L1*L2*L3*m_k*tau3*cos(thet3) - 16*L1*L2*L3*m_t*tau2*cos(thet3) - 32*L1*L2*L3*m_t*tau3*cos(thet3) - 2*L1*L2*L3^2*g*m_k*m_t*sin(thet1 - alph - thet2 + 2*thet3 + thetB) + 2*L1*L2*L3*L3cross^2*m_t^2*thet1dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thet2dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thet3dot^2*sin(2*thet2 - thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thetBdot^2*sin(2*thet2 - thet3) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 + thet2 - thet3 + thetB - thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 - thet2 + thet3 + thetB - thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 - thet2 - thet3 + thetB + thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph - thet1 + thet2 + thet3 - thetB + thetD) - 2*L1*L2^2*L3*g*m_k*m_t*cos(thet1 - alph + thet2 + thet3 + thetB - thetD) - 2*L1*L2^2*L3*g*m_k*m_t*cos(thet1 - alph + thet2 - thet3 + thetB + thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(thet1 - alph - thet2 + thet3 + thetB + thetD) - L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 - 2*thet3 + thetB - thetD) - L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + 2*thet3 + thetB + thetD) - L1*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 - 2*thet3 + thetB + thetD) - L1*L2*L3^3*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB) - 4*L1*L2*L3^2*g*m_k*m_t*sin(alph - thet1 + thet2 - thetB) - 2*L1*L2*L3cross^2*g*m_k*m_t*sin(alph - thet1 + thet2 - thetB) + 12*L1*L2*L3^3*m_k*m_t*thet1dot^2*sin(thet3) + 32*L1*L2^3*L3*m_k*m_t*thet1dot^2*sin(thet3) + 12*L1*L2*L3^3*m_k*m_t*thet2dot^2*sin(thet3) + 32*L1*L2^3*L3*m_k*m_t*thet2dot^2*sin(thet3) + 12*L1*L2*L3^3*m_k*m_t*thet3dot^2*sin(thet3) + 12*L1*L2*L3^3*m_k*m_t*thetBdot^2*sin(thet3) + 32*L1*L2^3*L3*m_k*m_t*thetBdot^2*sin(thet3) + 2*L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB - thetD) + 2*L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB + thetD) + 2*L1*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB + thetD) + L1*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB - thetD) + L1*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB + thetD) + L1*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB + thetD) - 4*L1*L2*L3^3*m_t^2*thet1dot*thet2dot*sin(thet3) + 4*L1*L2*L3^3*m_t^2*thet1dot*thet3dot*sin(thet3) - 4*L1*L2*L3^3*m_t^2*thet2dot*thet3dot*sin(thet3) + 4*L1*L2*L3^3*m_t^2*thet1dot*thetBdot*sin(thet3) - 4*L1*L2*L3^3*m_t^2*thet2dot*thetBdot*sin(thet3) + 4*L1*L2*L3^3*m_t^2*thet3dot*thetBdot*sin(thet3) + 4*L1*L2^2*L3*g*m_k*m_t*sin(alph + thet1 + thet2 - thet3 + thetB) - 4*L1*L2^2*L3*g*m_k*m_t*sin(alph + thet1 - thet2 + thet3 + thetB) - 4*L1*L2^2*L3*g*m_k*m_t*sin(thet1 - alph + thet2 + thet3 + thetB) + 2*L1*L2*L3^2*g*m_k*m_t*sin(alph + thet1 + thet2 - 2*thet3 + thetB) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 + thet2 + thet3 + thetB + thetD) + (L1*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB))/2 + 16*L1^2*L2^2*L3*m_k*m_t*thet1dot^2*sin(thet2 + thet3) + 16*L1^2*L2^2*L3*m_k*m_t*thetBdot^2*sin(thet2 + thet3) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 - thet2 - thet3 + thetB - thetD) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph - thet1 + thet2 + thet3 - thetB - thetD) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph - thet1 + thet2 - thet3 - thetB + thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph - thet1 - thet2 + thet3 - thetB + thetD) + L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + 2*thet3 + thetB - thetD) - L1*L2*L3^2*g*m_k*m_t*cos(alph - thet1 + thet2 - 2*thet3 - thetB + thetD) + L1*L2*L3^2*g*m_k*m_t*cos(thet1 - alph - thet2 + 2*thet3 + thetB + thetD) - L1*L2*L3^3*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB) - 4*L1*L2*L3^2*g*m_k*m_t*sin(alph + thet1 + thet2 + thetB) - 2*L1*L2*L3cross^2*g*m_k*m_t*sin(alph + thet1 + thet2 + thetB) + 2*L1*L2*L3*L3cross^2*m_t^2*thet1dot^2*sin(thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thet2dot^2*sin(thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thet3dot^2*sin(thet3) + 2*L1*L2*L3*L3cross^2*m_t^2*thetBdot^2*sin(thet3) - (L1*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 + thet3 + 2*thetB))/2 + 16*L1^2*L2*L3^2*m_k*m_t*thet1dot^2*sin(thet2) + 16*L1^2*L2*L3^2*m_k*m_t*thetBdot^2*sin(thet2) + 8*L1^2*L2*L3cross^2*m_k*m_t*thet1dot^2*sin(thet2) + 8*L1^2*L2*L3cross^2*m_k*m_t*thetBdot^2*sin(thet2) - 2*L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB - thetD) + 2*L1*L2*L3^2*g*m_k*m_t*cos(alph - thet1 + thet2 - thetB + thetD) - 2*L1*L2*L3^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB - thetD) - 2*L1*L2*L3^2*g*m_k*m_t*cos(thet1 - alph - thet2 + thetB + thetD) - L1*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 - thet2 + thetB - thetD) + L1*L2*L3cross^2*g*m_k*m_t*cos(alph - thet1 + thet2 - thetB + thetD) - L1*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph + thet2 + thetB - thetD) - L1*L2*L3cross^2*g*m_k*m_t*cos(thet1 - alph - thet2 + thetB + thetD) + 16*L1^2*L2*L3^2*m_t^2*thet1dot*thetBdot*sin(thet2) + 16*L1^2*L2*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet2) + 4*L1*L2^2*L3*g*m_k*m_t*sin(alph + thet1 - thet2 - thet3 + thetB) - 4*L1*L2^2*L3*g*m_k*m_t*sin(alph - thet1 + thet2 + thet3 - thetB) + 4*L1*L2^2*L3*g*m_k*m_t*sin(thet1 - alph + thet2 - thet3 + thetB) - 4*L1*L2^2*L3*g*m_k*m_t*sin(thet1 - alph - thet2 + thet3 + thetB) - 2*L1*L2*L3^2*g*m_k*m_t*sin(alph + thet1 - thet2 + 2*thet3 + thetB) + 2*L1*L2*L3^2*g*m_k*m_t*sin(thet1 - alph + thet2 - 2*thet3 + thetB) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 + thet2 + thet3 + thetB - thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 + thet2 - thet3 + thetB + thetD) - 2*L1*L2^2*L3*g*m_k*m_t*cos(alph + thet1 - thet2 + thet3 + thetB + thetD) + 2*L1*L2^2*L3*g*m_k*m_t*cos(thet1 - alph + thet2 + thet3 + thetB + thetD) + L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 - 2*thet3 + thetB + thetD) + (L1*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB))/2 - (L1*L2*L3*L3cross^2*m_t^2*thetDdot^2*sin(2*thet1 - 4*thet2 + 3*thet3 + 2*thetB))/2 - 16*L1^2*L2^2*L3*m_k*m_t*thet1dot^2*sin(thet2 - thet3) - 8*L1^2*L2*L3^2*m_k*m_t*thet1dot^2*sin(thet2 - 2*thet3) - 16*L1^2*L2^2*L3*m_k*m_t*thetBdot^2*sin(thet2 - thet3) - 8*L1^2*L2*L3^2*m_k*m_t*thetBdot^2*sin(thet2 - 2*thet3) + L1*L2*L3^2*g*m_k*m_t*cos(alph - thet1 - thet2 + 2*thet3 - thetB + thetD) - 4*L1*L2*L3^3*m_t^2*thet1dot*thet2dot*sin(2*thet2 - thet3) + 4*L1*L2*L3^3*m_t^2*thet1dot*thet3dot*sin(2*thet2 - thet3) - 4*L1*L2*L3^3*m_t^2*thet2dot*thet3dot*sin(2*thet2 - thet3) + 4*L1*L2*L3^3*m_t^2*thet1dot*thetBdot*sin(2*thet2 - thet3) - 4*L1*L2*L3^3*m_t^2*thet2dot*thetBdot*sin(2*thet2 - thet3) + 4*L1*L2*L3^3*m_t^2*thet3dot*thetBdot*sin(2*thet2 - thet3) - 4*L1*L2^2*L3^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 2*thet3 + 2*thetB) + 4*L1*L2^2*L3cross^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 2*thet3 + 2*thetB) + 4*L1*L2*L3^2*g*m_k*m_t*sin(alph + thet1 - thet2 + thetB) - 4*L1*L2*L3^2*g*m_k*m_t*sin(thet1 - alph + thet2 + thetB) + 2*L1*L2*L3cross^2*g*m_k*m_t*sin(alph + thet1 - thet2 + thetB) - 2*L1*L2*L3cross^2*g*m_k*m_t*sin(thet1 - alph + thet2 + thetB) - 2*L1*L2*L3^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB + thetD) - L1*L2*L3cross^2*g*m_k*m_t*cos(alph + thet1 + thet2 + thetB + thetD) - 4*L1*L2^2*L3*g*m_k*m_t*sin(alph + thet1 + thet2 + thet3 + thetB) + 16*L1*L2^2*L3^2*m_k*m_t*thet1dot^2*sin(2*thet3) + 16*L1*L2^2*L3^2*m_k*m_t*thet2dot^2*sin(2*thet3) + 8*L1*L2^2*L3^2*m_k*m_t*thet3dot^2*sin(2*thet3) + 16*L1*L2^2*L3^2*m_k*m_t*thetBdot^2*sin(2*thet3) - 8*L1*L2^2*L3^2*m_t^2*thet1dot*thet2dot*sin(2*thet2) + 8*L1*L2^2*L3^2*m_t^2*thet1dot*thetBdot*sin(2*thet2) - 8*L1*L2^2*L3^2*m_t^2*thet2dot*thetBdot*sin(2*thet2) - 8*L1*L2^2*L3cross^2*m_t^2*thet1dot*thet2dot*sin(2*thet2) + 8*L1*L2^2*L3cross^2*m_t^2*thet1dot*thetBdot*sin(2*thet2) - 8*L1*L2^2*L3cross^2*m_t^2*thet2dot*thetBdot*sin(2*thet2) - 32*L1*L2^2*L3^2*m_k*m_t*thet1dot*thet2dot*sin(2*thet3) + 16*L1*L2^2*L3^2*m_k*m_t*thet1dot*thet3dot*sin(2*thet3) - 16*L1*L2^2*L3^2*m_k*m_t*thet2dot*thet3dot*sin(2*thet3) + 32*L1*L2^2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(2*thet3) - 32*L1*L2^2*L3^2*m_k*m_t*thet2dot*thetBdot*sin(2*thet3) + 16*L1*L2^2*L3^2*m_k*m_t*thet3dot*thetBdot*sin(2*thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(2*thet2 - thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(2*thet2 - thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(2*thet2 - thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(2*thet2 - thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(2*thet2 - thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(2*thet2 - thet3) - 24*L1*L2*L3^3*m_k*m_t*thet1dot*thet2dot*sin(thet3) - 64*L1*L2^3*L3*m_k*m_t*thet1dot*thet2dot*sin(thet3) + 24*L1*L2*L3^3*m_k*m_t*thet1dot*thet3dot*sin(thet3) - 24*L1*L2*L3^3*m_k*m_t*thet2dot*thet3dot*sin(thet3) + 24*L1*L2*L3^3*m_k*m_t*thet1dot*thetBdot*sin(thet3) + 64*L1*L2^3*L3*m_k*m_t*thet1dot*thetBdot*sin(thet3) - 24*L1*L2*L3^3*m_k*m_t*thet2dot*thetBdot*sin(thet3) - 64*L1*L2^3*L3*m_k*m_t*thet2dot*thetBdot*sin(thet3) + 24*L1*L2*L3^3*m_k*m_t*thet3dot*thetBdot*sin(thet3) + L1*L2*L3*L3cross^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + thet3 + 2*thetB) + 32*L1^2*L2^2*L3*m_k*m_t*thet1dot*thetBdot*sin(thet2 + thet3) + 4*L1*L2*L3*L3cross^2*m_k*m_t*thet1dot^2*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_k*m_t*thet2dot^2*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_k*m_t*thet3dot^2*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_k*m_t*thetBdot^2*sin(thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thet2dot*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thet3dot*sin(thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet2dot*thet3dot*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet1dot*thetBdot*sin(thet3) - 4*L1*L2*L3*L3cross^2*m_t^2*thet2dot*thetBdot*sin(thet3) + 4*L1*L2*L3*L3cross^2*m_t^2*thet3dot*thetBdot*sin(thet3) + 32*L1^2*L2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(thet2) + 16*L1^2*L2*L3cross^2*m_k*m_t*thet1dot*thetBdot*sin(thet2) + L1*L2*L3*L3cross^2*m_k*m_t*thetDdot^2*sin(2*thet1 - 2*thet2 + 3*thet3 + 2*thetB) - 32*L1^2*L2^2*L3*m_k*m_t*thet1dot*thetBdot*sin(thet2 - thet3) - 16*L1^2*L2*L3^2*m_k*m_t*thet1dot*thetBdot*sin(thet2 - 2*thet3) - 8*L1*L2*L3*L3cross^2*m_k*m_t*thet1dot*thet2dot*sin(thet3) + 8*L1*L2*L3*L3cross^2*m_k*m_t*thet1dot*thet3dot*sin(thet3) - 8*L1*L2*L3*L3cross^2*m_k*m_t*thet2dot*thet3dot*sin(thet3) + 8*L1*L2*L3*L3cross^2*m_k*m_t*thet1dot*thetBdot*sin(thet3) - 8*L1*L2*L3*L3cross^2*m_k*m_t*thet2dot*thetBdot*sin(thet3) + 8*L1*L2*L3*L3cross^2*m_k*m_t*thet3dot*thetBdot*sin(thet3))/(4*L1*L2^2*m_t*(4*L3^2*m_k + L3^2*m_t + 2*L3cross^2*m_k + L3cross^2*m_t - 2*L3^2*m_k*cos(2*thet3) - L3^2*m_t*cos(2*thet2) - L3cross^2*m_t*cos(2*thet2)));

% form the time derivative of the state vector
dStatedt=[xdot; ydot; thetDdot; thetBdot; thet1dot; thet2dot; thet3dot;...
    Vdot; thetBdotdot; thet1dotdot; thet2dotdot; thet3dotdot];


end
